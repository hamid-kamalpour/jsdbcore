<html><head><title>JSDbCore Getting Started</title><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=wAPX1HepqA24RkYW1AuHYA');ol{margin:0;padding:0}.c12{max-width:512.8pt;background-color:#ffffff;padding:28.3pt 56.7pt 72pt 42.5pt}.c4{color:#666666;font-size:10pt;font-weight:bold}.c9{color:inherit;text-decoration:inherit}.c0{height:11pt;direction:ltr}.c3{color:#3c78d8;font-size:14pt}.c11{color:#1155cc;text-decoration:underline}.c7{height:10pt}.c5{line-height:1.0}.c1{direction:ltr}.c8{font-weight:bold}.c10{font-size:12pt}.c13{color:#3c78d8}.c14{text-indent:-14.2pt}.c2{margin-left:36pt}.c6{text-indent:36pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Arial";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Arial";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Arial";padding-bottom:2pt}</style></head><body class="c12"><h1 class="c1 c5"><a name="h.ou8az8p8r6bf"></a><span>JSDbCore - Getting Started.</span><span class="c13"><br></span></h1><p class="c1"><span>This is a beginners guide to help you setup your client-side database, based in the IndexedDb and WebSQL Html5 Api&rsquo;s.<br><br>This library implements helpers that simplify current requests in a database like inserting a record, advanced find conditions, delete and other functionalities.</span></p><h1 class="c5 c1"><a name="h.g7lr1vj0nsls"></a><span class="c3">1. Including the library:</span></h1><p class="c0"><span></span></p><p class="c1"><span>The first thing you have to do is include the JSDbCore in your application.</span></p><p class="c1"><span>To do this in a standard web/html app, include the following code in your &lt;head&gt; section:<br><br><br>This code will load the JSDbCore library in your app.</span><img height="22" src="images/image02.png" width="705"></p><p class="c0"><span><br></span></p><p class="c1"><span><br></span><span class="c3 c8">2. Config the database:</span></p><p class="c0"><span class="c3 c8"></span></p><p class="c1"><span>To setup JSDbCore, you just need to define some configs in a javascript object.<br><br></span><span>See the code and the explanation bellow:</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1 c14"><img height="823" src="images/image03.png" width="757"></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span class="c4">Explain step by step: </span></p><p class="c0"><span></span></p><p class="c1"><span>JSDbCore has an object called &lsquo;defaultConfig&rsquo;, where you can configure all your databases, stores (its like SQL &rsquo;Tables&rsquo;), indexes, version control, events, and all other stuff that will be explained later in this guide, for now this is a standard configuration.<br><br>Lets see what is in this configuration...</span></p><p class="c0"><span></span></p><p class="c1"><span>First, an array called &lsquo;databases&rsquo;. In the databases array, each object represent a instance that will be initialized when &nbsp;JSDbCore is started. This configure just one database, so there is just one item inside the array.</span></p><p class="c0"><span></span></p><p class="c1"><span>This object has an attribute &lsquo;name&rsquo; that is the database name</span></p><p class="c1"><span><br>Later db object has an array attribute called stores. The store is the location &nbsp;where the data is placed,<br>like a collection or an &lsquo;table&rsquo; without &nbsp;a predefined schema, you have to define a name to the store and a options object, setting the keyPath that is like an Primary key in standard SQL, and others options like autoIncrement. There is more advanced features that will be explained later like indexes. </span></p><p class="c0"><span></span></p><p class="c1"><span>After this has a version attribute. Short explanation: the version is the version of your database,<br>but this isn&rsquo;t his only purpose, the only way to change the stores configuration on the database is changing your version.</span></p><p class="c0"><span></span></p><p class="c1"><span>And now the events:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- afterOpen: a function to executed after the database is open and ready to use.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- erroOnOpen: &nbsp;this will be executed if there is an error on opening the database.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span class="c8">Additional attributes:</span></p><p class="c1 c2"><span>- overwrite: this flag prevents to overwrite your stores when the version of the database is changed and the stores will be updated, false will overwrite your stores.</span></p><p class="c0 c2"><span></span></p><p class="c1 c2"><span>- type: type of database, &lsquo;indexeddb&rsquo; (default) &nbsp;| &lsquo;websql&rsquo;</span></p><p class="c0"><span></span></p><p class="c1"><span>For more informations about this databases, see:<br></span></p><p class="c1"><span>Indexeddb(default) </span><span class="c11"><a class="c9" href="https://developer.mozilla.org/en-US/docs/IndexedDB">https://developer.mozilla.org/en-US/docs/IndexedDB</a></span><span><br>WebSQL: </span><span class="c11"><a class="c9" href="http://html5doctor.com/introducing-web-sql-databases/">http://html5doctor.com/introducing-web-sql-databases/</a></span><span><br></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><h2 class="c1"><a name="h.iis78edfd9tc"></a><span class="c10">Start JSDbCore</span></h2><p class="c0"><span></span></p><p class="c1"><span>Now that we have our configuration, lets initiate the JSDbCore:</span></p><p class="c0 c2"><span></span></p><p class="c1 c2"><span>JSDbCore.New();</span></p><p class="c0 c6"><span></span></p><p class="c1"><span>This will instantiate all the databases and call one of the callbacks passed in the configuration.<br></span></p><p class="c1"><span><br></span><span class="c3 c8">3. Model (saving, searching, etc)</span><span><br> </span></p><h4 class="c1"><a name="h.ei1m544gxr7x"></a><span>Explaining Models:</span></h4><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What is a model?</span></p><p class="c1 c6"><span>A model is an object that represents a record in the database.</span></p><p class="c1 c2"><span>In the model we have the ways to handle with the data, like: saving, finding, deleting, and other advanced options like finding with a specified criteria.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c2"><span></span></p><h3 class="c1"><a name="h.gz3zw0eisapc"></a><span>Dealing with Models:</span></h3><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h5 class="c1"><a name="h.hpxa0sbr0nda"></a><span>- Creating </span></h5><p class="c0"><span></span></p><p class="c1 c2"><span>Creating a model is easy, let&#39;s suppose that you have a database named &lsquo;Forest&rsquo;, and inside there is an store called &lsquo;Trees&rsquo;, now we want to add some trees especies, the first thing to do is create a new model called &lsquo;modelTree&rsquo;, passing the database and the store.</span></p><p class="c1 c2"><span>See this code:</span></p><p class="c0 c2"><span></span></p><p class="c1 c6"><img height="21" src="images/image00.png" width="670"></p><p class="c0"><span></span></p><p class="c0"><span></span></p><h5 class="c1"><a name="h.hkhe3mywc4pj"></a><span>- Populating</span></h5><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1 c2"><span>Now we have a model to represent a record on the store &lsquo;Trees&rsquo;, but we have to add some informations about this tree, so we will do this:</span></p><p class="c0 c2"><span></span></p><p class="c1 c2"><img height="20" src="images/image04.png" width="562"></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h5 class="c1 c7"><a name="h.2gyio37ojwp6"></a></h5><h5 class="c1"><a name="h.3wjnatif2h5x"></a><span>- Saving</span></h5><p class="c0"><span></span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We set the new record with two attributes: a name and a color.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So this mean that this record represent an Apple tree and the color of this tree is green.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After this steps. just save this record in the database. Do this:</span></p><p class="c0 c6"><span></span></p><p class="c1 c6"><img height="27" src="images/image01.png" width="161"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The new record will be saved in the store &lsquo;Trees&rsquo; in the &lsquo;Forest&rsquo; database.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h5 class="c1"><a name="h.mombs72vy53j"></a><span>- Finding</span></h5><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//This documentation is not finished here come the advanced criterias section</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></body></html>